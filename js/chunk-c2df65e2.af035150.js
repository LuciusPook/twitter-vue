(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c2df65e2"],{"23b1":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("img",{attrs:{src:"https://i.ibb.co/WD1YSyW/Logo.jpg",alt:"Logo"}}),s("h2",{staticClass:"form-title"},[e._v("後台登入")]),s("AccountForm",{attrs:{Account:e.account,Password:e.password,"is-processing":e.isProcessing,checked:e.checked,warningMessage:e.warningMessage},on:{"after-submit":e.handleAfterSubmit}}),s("div",{staticClass:"form-link"},[s("router-link",{attrs:{to:"/login"}},[e._v("前台登入")])],1)],1)},r=[],a=s("1da1"),c=(s("96cf"),s("b0c0"),s("9787")),o=s("be6c"),i=s("2fa3"),u={components:{AccountForm:c["a"]},data:function(){return{account:"",password:"",isProcessing:!1,checked:!1,warningMessage:""}},methods:{handleAfterSubmit:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var n,r,a,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=e.account,r=e.password,s.prev=1,t.isProcessing=!0,s.next=5,o["a"].signIn({account:n,password:r});case 5:if(a=s.sent,c=a.data,200===c.status){s.next=11;break}throw t.warningMessage=c.message,i["a"].fire({icon:"error",title:c.message}),new Error(c.message);case 11:localStorage.setItem("token",c.token),t.$store.commit("setCurrentUser",c.user),i["a"].fire({icon:"success",title:"".concat(c.user.name,", 歡迎回來")}),t.$router.push("/admin/tweets"),s.next=23;break;case 17:s.prev=17,s.t0=s["catch"](1),t.password="",t.checked=!0,t.isProcessing=!1,console.log("error",s.t0);case 23:case"end":return s.stop()}}),s,null,[[1,17]])})))()}}},d=u,g=(s("7f24"),s("2877")),f=Object(g["a"])(d,n,r,!1,null,"4371c4d0",null);t["default"]=f.exports},"7f24":function(e,t,s){"use strict";s("8a68")},"8a68":function(e,t,s){},be6c:function(e,t,s){"use strict";var n=s("2fa3");t["a"]={signIn:function(e){var t=e.account,s=e.password;return n["b"].post("/admin/signin",{account:t,password:s})},getUsers:function(){return n["b"].get("/admin/users")},getTweets:function(){return n["b"].get("/admin/tweets")},deleteTweet:function(e){var t=e.tweetId;return n["b"].delete("/admin/tweets/".concat(t))}}}}]);
//# sourceMappingURL=chunk-c2df65e2.af035150.js.map